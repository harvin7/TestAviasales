const { chromium } = require('playwright');

(async () => {
  const browser = await chromium.launch();
  const context = await browser.newContext();
  const page = await context.newPage();

  await page.goto('https://www.aviasales.com/');

  await page.click('#switch');

  await page.fill('name=origin', 'New York, Kennedy airport');

  await page.fill('name=destination', 'Berlin');

  await page.fill('name=date', 'October 30');

  await page.check('id=no-return-ticket');

  await page.fill('name=adults', '2');

  await page.selectOption('name=class', 'Economy');

  await page.click('id=submit-button');

  await page.waitForURL('contains=/search');

  if (page.url().includes('/search')) {
    console.log('Nueva página de búsqueda se ha abierto.');
  } else {
    console.log('La nueva página de búsqueda no se ha abierto.');
  }

  await browser.close();
})();
